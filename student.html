<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniConnect - Student Dashboard</title>
    
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>

    <style>
        :root {
            --primary: #4f46e5;
            --secondary: #3730a3;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-light: #f3f4f6;
            --bg-dark: #1f2937;
            --text-light: #374151;
            --text-dark: #f3f4f6;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-light);
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        body.dark-mode {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }
        .profile-dropdown {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        .dark-mode .profile-dropdown {
            background: rgba(31, 41, 55, 0.95);
        }
        
        .sidebar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .dark-mode .sidebar {
            background: rgba(0, 0, 0, 0.2);
        }

        .content-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            transition: all 0.3s ease;
        }

        .dark-mode .content-card {
            background: rgba(0, 0, 0, 0.2);
        }

        .star-rating {
            display: inline-flex;
            font-size: 1.5rem;
            color: #fbbf24;
        }

        .star-rating input {
            display: none;
        }

        .star-rating label {
            cursor: pointer;
            padding: 0 2px;
            transition: all 0.2s ease;
        }

        .star-rating label:hover,
        .star-rating label:hover ~ label,
        .star-rating input:checked ~ label {
            color: #f59e0b;
            transform: scale(1.2);
        }
        
/* Add this to the existing CSS section */
.star-rating label .far {
    display: inline-block;
}

.star-rating label .fas {
    display: none;
}

.star-rating input:checked ~ label .fas {
    display: inline-block;
}

.star-rating input:checked ~ label .far {
    display: none;
}


        .review-form input,
        .review-form textarea,
        .review-form select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border-radius: 8px;
            padding: 0.75rem;
            width: 100%;
            transition: all 0.3s ease;
        }

        .dark-mode .review-form input,
        .dark-mode .review-form textarea,
        .dark-mode .review-form select {
            background: rgba(0, 0, 0, 0.2);
            color: var(--text-dark);
        }

        .review-form input:focus,
        .review-form textarea:focus,
        .review-form select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
        }

        .submit-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .category-pill {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-pill.active {
            background: var(--primary);
            color: white;
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .animated-bg::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                rgba(79, 70, 229, 0.1),
                rgba(55, 48, 163, 0.1),
                rgba(79, 70, 229, 0.1)
            );
            animation: gradient 15s ease infinite;
        }

        @keyframes gradient {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Profile Modal Styles */
#profileModal .content-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    transition: all 0.3s ease;
}

.dark-mode #profileModal .content-card {
    background: rgba(31, 41, 55, 0.95);
}

#profileModal input,
#profileModal select,
#profileModal textarea {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(5px);
    border-radius: 8px;
    padding: 0.75rem;
    width: 100%;
    transition: all 0.3s ease;
}

.dark-mode #profileModal input,
.dark-mode #profileModal select,
.dark-mode #profileModal textarea {
    background: rgba(0, 0, 0, 0.2);
    color: var(--text-dark);
}

#profileModal input:focus,
#profileModal select:focus,
#profileModal textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
}

#profileImage {
    border: 4px solid var(--primary);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
    transition: all 0.3s ease;
}

#profileImage:hover {
    transform: scale(1.02);
}

#profileModal label[for="profileImage"] {
    cursor: pointer;
    transition: all 0.3s ease;
}

#profileModal label[for="profileImage"]:hover {
    background: var(--secondary);
    transform: scale(1.1);
}

#profileModal .submit-btn {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

#profileModal .submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
}

/* Profile Form Animation */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#profileModal form {
    animation: slideIn 0.5s ease forwards;
}

/* Profile Stats Section */
.profile-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-top: 1.5rem;
}

.stat-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(5px);
    border-radius: 12px;
    padding: 1rem;
    text-align: center;
    transition: all 0.3s ease;
}

.dark-mode .stat-card {
    background: rgba(0, 0, 0, 0.2);
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
}

.stat-number {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary);
}

.stat-label {
    font-size: 0.875rem;
    color: var(--text-light);
}

.dark-mode .stat-label {
    color: var(--text-dark);
}
.notifications-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    width: 320px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    opacity: 0;
    transform: translateY(10px);
    pointer-events: none;
    transition: all 0.3s ease;
    z-index: 50;
}

.dark-mode .notifications-dropdown {
    background: rgba(31, 41, 55, 0.95);
}

.notifications-dropdown.active {
    opacity: 1;
    transform: translateY(0);
    pointer-events: all;
}

.notification-item {
    padding: 1rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.notification-item:hover {
    background: rgba(79, 70, 229, 0.1);
}

.notification-item.unread {
    background: rgba(79, 70, 229, 0.05);
}

.notification-dot {
    width: 8px;
    height: 8px;
    background: var(--primary);
    border-radius: 50%;
    margin-right: 8px;
}

    </style>
</head>
<body>
    <div class="animated-bg"></div>

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <div class="sidebar w-64 fixed h-full p-4">
            <div class="flex items-center justify-center mb-8">
                <h1 class="text-2xl font-bold">UniConnect</h1>
            </div>

            <nav class="space-y-4">
                <a href="#" class="flex items-center space-x-3 p-3 rounded-lg bg-indigo-500 text-white">
                    <i class="fas fa-star"></i>
                    <span>Reviews</span>
                </a>
                <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-indigo-100 dark:hover:bg-gray-800">
                    <i class="fas fa-tasks"></i>
                    <span>Tasks</span>
                </a>
                <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-indigo-100 dark:hover:bg-gray-800">
                    <i class="fas fa-exclamation-circle"></i>
                    <span>Issues</span>
                    <span class="notification-badge">3</span>
                </a>
                <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-indigo-100 dark:hover:bg-gray-800">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
            </nav>

            <div class="absolute bottom-4 left-4 right-4">
                <button id="darkModeToggle" class="w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-800">
                    <i class="fas fa-moon mr-2"></i>
                    <span>Dark Mode</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="ml-64 flex-1 p-8">
            <!-- Header -->
            <header class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold">Submit Review</h2>
                    <p class="text-gray-600 dark:text-gray-400">Share your feedback to help improve campus life</p>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Notification Bell -->
                    <div class="relative">
                        <i class="fas fa-bell text-xl cursor-pointer" id="notificationBell"></i>
                        <span class="notification-badge">2</span>
                        <div class="notifications-dropdown" id="notificationsDropdown">
                            <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                                <div class="flex justify-between items-center">
                                    <h3 class="font-bold">Notifications</h3>
                                    <button class="text-sm text-indigo-600 hover:text-indigo-800" id="markAllRead">
                                        Mark all as read
                                    </button>
                                </div>
                            </div>
                            <div class="max-h-[400px] overflow-y-auto" id="notificationsList"></div>
                        </div>
                    </div>
                    
                    <!-- Profile -->
                    <div class="relative">
                        <img src="https://picsum.photos/40/40?random=1" alt="Profile" class="w-10 h-10 rounded-full cursor-pointer hover:ring-2 hover:ring-indigo-500 transition-all" id="headerProfileImage">
                        <div class="profile-dropdown hidden absolute right-0 top-12 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden">
                            <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                                <p class="font-bold">John Doe</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Student</p>
                            </div>
                            <div class="p-2">
                                <button onclick="document.getElementById('profileModal').classList.remove('hidden')" class="w-full text-left px-4 py-2 hover:bg-indigo-50 dark:hover:bg-gray-700 rounded-lg transition-colors">
                                    <i class="fas fa-user-circle mr-2"></i> Edit Profile
                                </button>
                                <button class="w-full text-left px-4 py-2 hover:bg-indigo-50 dark:hover:bg-gray-700 rounded-lg transition-colors">
                                    <i class="fas fa-cog mr-2"></i> Settings
                                </button>
                                <button class="w-full text-left px-4 py-2 hover:bg-indigo-50 dark:hover:bg-gray-700 rounded-lg text-red-500">
                                    <i class="fas fa-sign-out-alt mr-2"></i> Logout
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Review Categories -->
            <div class="flex space-x-4 mb-8">
                <div class="category-pill active">
                    <i class="fas fa-chalkboard-teacher mr-2"></i>
                    Lecture
                </div>
                <div class="category-pill">
                    <i class="fas fa-utensils mr-2"></i>
                    Canteen
                </div>
                <div class="category-pill">
                    <i class="fas fa-home mr-2"></i>
                    Hostel
                </div>
                <div class="category-pill">
                    <i class="fas fa-university mr-2"></i>
                    Campus
                </div>
            </div>

            <!-- Review Form -->
            <div class="content-card p-6">
                <form class="review-form space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block mb-2">Select Course</label>
                            <select required>
                                <option value="">Choose a course...</option>
                                <option>Computer Science 101</option>
                                <option>Mathematics 202</option>
                                <option>Physics 301</option>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-2">Lecturer</label>
                            <select required>
                                <option value="">Select lecturer...</option>
                                <option>Dr. Sarah Johnson</option>
                                <option>Prof. Michael Smith</option>
                                <option>Dr. Emily Brown</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label class="block mb-2">Rating</label>
                        <div class="star-rating">
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1">
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2">
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3">
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4">
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </label>
                            <input type="radio" id="star5" name="rating" value="5">
                            <label for="star5">
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </label>
                        </div>
                    </div>
                    <div>
                        <label class="block mb-2">Review Title</label>
                        <input type="text" placeholder="Enter a brief title for your review" required>
                    </div>

                    <div>
                        <label class="block mb-2">Detailed Review</label>
                        <textarea rows="4" placeholder="Share your experience in detail..." required></textarea>
                    </div>

                    <div class="flex items-center space-x-4">
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Submit Review
                        </button>
                        <button type="button" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
                            <i class="fas fa-times mr-2"></i>
                            Cancel
                        </button>
                    </div>
                </form>
            </div>

            <!-- Recent Reviews -->
            <div class="mt-8">
                <h3 class="text-xl font-bold mb-4">Your Recent Reviews</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="content-card p-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="font-bold">Computer Science 101</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Dr. Sarah Johnson</p>
                            </div>
                            <div class="flex text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </div>
                        </div>
                        <p class="mt-2">Great lecture! The concepts were explained clearly...</p>
                        <div class="mt-2 text-sm text-gray-500">2 days ago</div>
                    </div>

                    <div class="content-card p-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="font-bold">Campus Library</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Facility Review</p>
                            </div>
                            <div class="flex text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <p class="mt-2">Excellent study environment and resources...</p>
                        <div class="mt-2 text-sm text-gray-500">1 week ago</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
        <div class="content-card p-6 w-full max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold">Student Profile</h3>
                <button onclick="closeProfileModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
    
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Profile Image Section -->
                <div class="text-center">
                    <div class="relative w-40 h-40 mx-auto mb-4">
                        <img id="profileImage" src="https://picsum.photos/160/160?random=1" alt="Profile" class="rounded-full w-full h-full object-cover">
                        <label class="absolute bottom-0 right-0 bg-indigo-500 text-white p-2 rounded-full cursor-pointer">
                            <i class="fas fa-camera"></i>
                            <input type="file" class="hidden" accept="image/*" onchange="updateProfileImage(this)">
                        </label>
                    </div>
                    <h4 class="font-bold text-lg">John Doe</h4>
                    <p class="text-gray-600">Student ID: ST2024001</p>
                </div>
    
                <!-- Profile Details Section -->
                <div class="md:col-span-2">
                    <form id="profileForm" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">First Name</label>
                                <input type="text" value="John" required>
                            </div>
                            <div>
                                <label class="block mb-2">Last Name</label>
                                <input type="text" value="Doe" required>
                            </div>
                            <div>
                                <label class="block mb-2">Email</label>
                                <input type="email" value="john.doe@university.edu" required>
                            </div>
                            <div>
                                <label class="block mb-2">Phone</label>
                                <input type="tel" value="+1 234 567 8900" required>
                            </div>
                            <div>
                                <label class="block mb-2">Department</label>
                                <select required>
                                    <option>Computer Science</option>
                                    <option>Engineering</option>
                                    <option>Business</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Year</label>
                                <select required>
                                    <option>1st Year</option>
                                    <option selected>2nd Year</option>
                                    <option>3rd Year</option>
                                    <option>4th Year</option>
                                </select>
                            </div>
                        </div>
    
                        <div>
                            <label class="block mb-2">Bio</label>
                            <textarea rows="3" placeholder="Tell us about yourself...">Computer Science student passionate about web development and AI.</textarea>
                        </div>
    
                        <div class="flex justify-end space-x-4">
                            <button type="submit" class="submit-btn">
                                <i class="fas fa-save mr-2"></i>Save Changes
                            </button>
                            <button type="button" onclick="closeProfileModal()" class="text-gray-500 hover:text-gray-700">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
      <script>
          // Dark Mode Toggle
          const darkModeToggle = document.getElementById('darkModeToggle');
          const body = document.body;

          darkModeToggle.addEventListener('click', () => {
              body.classList.toggle('dark-mode');
              const icon = darkModeToggle.querySelector('i');
              icon.classList.toggle('fa-moon');
              icon.classList.toggle('fa-sun');
          });

          // Category Pills
          document.querySelectorAll('.category-pill').forEach(pill => {
              pill.addEventListener('click', () => {
                  document.querySelectorAll('.category-pill').forEach(p => p.classList.remove('active'));
                  pill.classList.add('active');
              });
          });
// Notification System
const initializeNotifications = () => {
    const bell = document.getElementById('notificationBell');
    const dropdown = document.getElementById('notificationsDropdown');
    const markAllRead = document.getElementById('markAllRead');
    const notificationsList = document.getElementById('notificationsList');

    // Sample notifications data
    const notifications = [
        {
            id: 1,
            title: 'New Course Review',
            message: 'Your review for CS101 has been published',
            time: '2 minutes ago',
            unread: true
        },
        {
            id: 2,
            title: 'Task Deadline',
            message: 'Assignment submission due in 24 hours',
            time: '1 hour ago',
            unread: true
        },
        {
            id: 3,
            title: 'System Update',
            message: 'Platform maintenance scheduled for tonight',
            time: '3 hours ago',
            unread: false
        }
    ];

    // Render notifications
    const renderNotifications = () => {
        notificationsList.innerHTML = notifications.map(notification => `
            <div class="notification-item ${notification.unread ? 'unread' : ''}" data-id="${notification.id}">
                <div class="flex items-center">
                    ${notification.unread ? '<div class="notification-dot"></div>' : ''}
                    <div class="flex-1">
                        <h4 class="font-semibold">${notification.title}</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">${notification.message}</p>
                        <span class="text-xs text-gray-500">${notification.time}</span>
                    </div>
                </div>
            </div>
        `).join('');

        // Update notification badge
        const unreadCount = notifications.filter(n => n.unread).length;
        const badge = document.querySelector('.notification-badge');
        badge.textContent = unreadCount;
        badge.style.display = unreadCount > 0 ? 'flex' : 'none';
    };

    // Toggle dropdown
    bell.addEventListener('click', (e) => {
        e.stopPropagation();
        dropdown.classList.toggle('active');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (!dropdown.contains(e.target) && !bell.contains(e.target)) {
            dropdown.classList.remove('active');
        }
    });

    // Mark all as read
    markAllRead.addEventListener('click', () => {
        notifications.forEach(notification => notification.unread = false);
        renderNotifications();
    });

    // Initial render
    renderNotifications();
};
const initializeHeaderProfile = () => {
    const profileImage = document.getElementById('headerProfileImage');
    const dropdown = profileImage.nextElementSibling;

    profileImage.addEventListener('click', (e) => {
        e.stopPropagation();
        dropdown.classList.toggle('hidden');
    });

    document.addEventListener('click', (e) => {
        if (!dropdown.contains(e.target) && !profileImage.contains(e.target)) {
            dropdown.classList.add('hidden');
        }
    });
};

document.addEventListener('DOMContentLoaded', initializeHeaderProfile);

// Initialize notifications on page load
document.addEventListener('DOMContentLoaded', initializeNotifications);

          // Form Submission Animation
          document.querySelector('.review-form').addEventListener('submit', (e) => {
              e.preventDefault();
            
              const submitBtn = e.target.querySelector('.submit-btn');
              submitBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Review Submitted';
              submitBtn.style.background = 'var(--success)';
            
              gsap.to(submitBtn, {
                  scale: 1.05,
                  duration: 0.2,
                  yoyo: true,
                  repeat: 1
              });

              setTimeout(() => {
                  submitBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Submit Review';
                  submitBtn.style.background = '';
                  e.target.reset();
              }, 2000);
          });

          // Animations
          gsap.from('.content-card', {
              y: 20,
              opacity: 0,
              duration: 0.8,
              stagger: 0.2,
              ease: 'power3.out'
          });

          gsap.from('.category-pill', {
              scale: 0.9,
              opacity: 0,
              duration: 0.5,
              stagger: 0.1,
              ease: 'power2.out'
          });

          // Review form content for different categories
          const formTemplates = {
              lecture: `
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                          <label class="block mb-2">Select Course</label>
                          <select required>
                              <option value="">Choose a course...</option>
                              <option>Computer Science 101</option>
                              <option>Mathematics 202</option>
                              <option>Physics 301</option>
                          </select>
                      </div>
                      <div>
                          <label class="block mb-2">Lecturer</label>
                          <select required>
                              <option value="">Select lecturer...</option>
                              <option>Dr. Sarah Johnson</option>
                              <option>Prof. Michael Smith</option>
                              <option>Dr. Emily Brown</option>
                          </select>
                      </div>
                  </div>
              `,
              canteen: `
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                          <label class="block mb-2">Select Canteen</label>
                          <select required>
                              <option value="">Choose a canteen...</option>
                              <option>Main Cafeteria</option>
                              <option>Coffee Shop</option>
                              <option>Food Court</option>
                          </select>
                      </div>
                      <div>
                          <label class="block mb-2">Food Category</label>
                          <select required>
                              <option value="">Select category...</option>
                              <option>Breakfast</option>
                              <option>Lunch</option>
                              <option>Snacks</option>
                              <option>Beverages</option>
                          </select>
                      </div>
                  </div>
              `,
              hostel: `
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                          <label class="block mb-2">Hostel Building</label>
                          <select required>
                              <option value="">Select hostel...</option>
                              <option>Block A</option>
                              <option>Block B</option>
                              <option>Block C</option>
                          </select>
                      </div>
                      <div>
                          <label class="block mb-2">Room Type</label>
                          <select required>
                              <option value="">Select room type...</option>
                              <option>Single Room</option>
                              <option>Double Sharing</option>
                              <option>Triple Sharing</option>
                          </select>
                      </div>
                  </div>
              `,
              campus: `
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                          <label class="block mb-2">Facility Type</label>
                          <select required>
                              <option value="">Select facility...</option>
                              <option>Library</option>
                              <option>Sports Complex</option>
                              <option>Laboratory</option>
                              <option>Parking</option>
                          </select>
                      </div>
                      <div>
                          <label class="block mb-2">Location</label>
                          <select required>
                              <option value="">Select location...</option>
                              <option>North Campus</option>
                              <option>South Campus</option>
                              <option>Main Building</option>
                          </select>
                      </div>
                  </div>
              `
          };

          // Update form based on selected category
          document.querySelectorAll('.category-pill').forEach(pill => {
              pill.addEventListener('click', () => {
                  const category = pill.textContent.trim().toLowerCase();
                  const formContent = document.querySelector('.review-form .grid');
                
                  // Update form fields
                  if (formTemplates[category]) {
                      formContent.outerHTML = formTemplates[category];
                  }
                
                  // Update form title
                  const formTitle = document.querySelector('header h2');
                  formTitle.textContent = `Submit ${category.charAt(0).toUpperCase() + category.slice(1)} Review`;
              });
          });

          // Add functionality to navigation buttons
          document.querySelectorAll('nav a').forEach(link => {
              link.addEventListener('click', (e) => {
                  e.preventDefault();
                  // Remove active class from all nav items
                  document.querySelectorAll('nav a').forEach(item => {
                      item.classList.remove('bg-indigo-500', 'text-white');
                      item.classList.add('hover:bg-indigo-100', 'dark:hover:bg-gray-800');
                  });
                
                  // Add active class to clicked item
                  link.classList.add('bg-indigo-500', 'text-white');
                  link.classList.remove('hover:bg-indigo-100', 'dark:hover:bg-gray-800');
              });
          });
const resetForm = () => {
    const form = document.querySelector('.review-form');
    form.reset();
    clearStarRating();
    
    // Reset submit button style
    const submitBtn = form.querySelector('.submit-btn');
    submitBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Submit Review';
    submitBtn.style.background = '';
};

// Clear star rating
const clearStarRating = () => {
    const stars = document.querySelectorAll('.star-rating input');
    stars.forEach(star => star.checked = false);
};

// Add click handler to cancel button
document.querySelector('.review-form button[type="button"]').addEventListener('click', resetForm);

// Add clear stars button to the rating section
document.querySelector('.star-rating').insertAdjacentHTML('afterend', `
    <button type="button" class="text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 mt-2" onclick="clearStarRating()">
        <i class="fas fa-times mr-1"></i>Clear rating
    </button>
`);


// Add this to the existing JavaScript section
const initializeStarRating = () => {
    const starContainers = document.querySelectorAll('.star-rating');
    
    starContainers.forEach(container => {
        const stars = container.querySelectorAll('label');
        
        stars.forEach((star, index) => {
            star.addEventListener('mouseover', () => {
                for (let i = 0; i <= index; i++) {
                    stars[i].querySelector('.fas').style.display = 'inline-block';
                    stars[i].querySelector('.far').style.display = 'none';
                }
            });
            
            star.addEventListener('mouseout', () => {
                stars.forEach(s => {
                    if (!s.previousElementSibling.checked) {
                        s.querySelector('.fas').style.display = 'none';
                        s.querySelector('.far').style.display = 'inline-block';
                    }
                });
            });
        });
    });
};

// Initialize star rating system for all forms
initializeStarRating();

// Add this to the form template generation code
document.querySelectorAll('.category-pill').forEach(pill => {
    pill.addEventListener('click', () => {
        // ... existing code ...
        initializeStarRating(); // Reinitialize stars after form template change
    });
});

// Button task functionality
const initializeTaskButtons = () => {
    const taskButton = document.querySelector('nav a:nth-child(2)');
    
    // Task counter
    let taskCount = 0;
    
    // Create task modal HTML
    const taskModal = `
        <div id="taskModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
            <div class="content-card p-6 w-96">
                <h3 class="text-xl font-bold mb-4">Task Manager</h3>
                <div id="taskList" class="space-y-4 mb-4"></div>
                <form id="addTaskForm" class="space-y-4">
                    <input type="text" placeholder="Enter new task" class="w-full p-2 rounded" required>
                    <div class="flex justify-between">
                        <button type="submit" class="submit-btn">Add Task</button>
                        <button type="button" onclick="closeTaskModal()" class="text-gray-500 hover:text-gray-700">Close</button>
                    </div>
                </form>
            </div>
        </div>
    `;

    // Insert modal into DOM
    document.body.insertAdjacentHTML('beforeend', taskModal);

    // Task button click handler
    taskButton.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('taskModal').classList.remove('hidden');
        loadTasks();
    });

    // Add task form handler
    document.getElementById('addTaskForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const input = e.target.querySelector('input');
        const taskText = input.value.trim();
        
        if (taskText) {
            addTask(taskText);
            input.value = '';
            taskCount++;
            updateTaskCount();
        }
    });
};

// Task management functions
const addTask = (text) => {
    const taskList = document.getElementById('taskList');
    const taskHTML = `
        <div class="task-item flex items-center justify-between bg-white dark:bg-gray-800 p-3 rounded">
            <div class="flex items-center">
                <input type="checkbox" class="mr-3">
                <span>${text}</span>
            </div>
            <button onclick="deleteTask(this)" class="text-red-500 hover:text-red-700">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    `;
    taskList.insertAdjacentHTML('beforeend', taskHTML);
};

const deleteTask = (button) => {
    button.closest('.task-item').remove();
    taskCount--;
    updateTaskCount();
};

const updateTaskCount = () => {
    const taskButton = document.querySelector('nav a:nth-child(2)');
    if (taskCount > 0) {
        taskButton.innerHTML = `
            <i class="fas fa-tasks"></i>
            <span>Tasks</span>
            <span class="notification-badge">${taskCount}</span>
        `;
    } else {
        taskButton.innerHTML = `
            <i class="fas fa-tasks"></i>
            <span>Tasks</span>
        `;
    }
};

const closeTaskModal = () => {
    document.getElementById('taskModal').classList.add('hidden');
};

// Initialize task functionality
document.addEventListener('DOMContentLoaded', initializeTaskButtons);
// Issues functionality
const initializeIssuesSystem = () => {
    const issuesButton = document.querySelector('nav a:nth-child(3)');
    
    const issuesModal = `
        <div id="issuesModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
            <div class="content-card p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">Campus Issues Tracker</h3>
                    <button onclick="closeIssuesModal()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Issues List -->
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold">Active Issues</h4>
                            <button onclick="showNewIssueForm()" class="submit-btn">
                                <i class="fas fa-plus mr-2"></i>New Issue
                            </button>
                        </div>
                        <div id="issuesList" class="space-y-3"></div>
                    </div>
                    
                    <!-- New Issue Form -->
                    <div id="newIssueForm" class="content-card p-4 hidden">
                        <form id="issueSubmitForm" class="space-y-4">
                            <div>
                                <label class="block mb-2">Issue Type</label>
                                <select required class="w-full">
                                    <option value="">Select type...</option>
                                    <option>Technical Problem</option>
                                    <option>Facility Maintenance</option>
                                    <option>Academic Concern</option>
                                    <option>Safety Concern</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Location</label>
                                <input type="text" placeholder="Specify location" required>
                            </div>
                            <div>
                                <label class="block mb-2">Description</label>
                                <textarea rows="4" placeholder="Describe the issue..." required></textarea>
                            </div>
                            <div>
                                <label class="block mb-2">Priority</label>
                                <select required class="w-full">
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                    <option value="urgent">Urgent</option>
                                </select>
                            </div>
                            <div class="flex space-x-4">
                                <button type="submit" class="submit-btn">Submit Issue</button>
                                <button type="button" onclick="hideNewIssueForm()" class="text-gray-500">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    `;

    document.body.insertAdjacentHTML('beforeend', issuesModal);

    // Sample issues data
    const sampleIssues = [
        {
            id: 1,
            type: 'Technical Problem',
            location: 'Computer Lab 2',
            description: 'Projector not working properly',
            priority: 'high',
            status: 'pending',
            date: '2024-01-15'
        },
        {
            id: 2,
            type: 'Facility Maintenance',
            location: 'Main Library',
            description: 'AC not functioning in study area',
            priority: 'medium',
            status: 'in-progress',
            date: '2024-01-14'
        },
        {
            id: 3,
            type: 'Safety Concern',
            location: 'Parking Lot B',
            description: 'Poor lighting in evening hours',
            priority: 'urgent',
            status: 'pending',
            date: '2024-01-13'
        }
    ];

    const renderIssues = () => {
        const issuesList = document.getElementById('issuesList');
        issuesList.innerHTML = sampleIssues.map(issue => `
            <div class="content-card p-4 ${getPriorityClass(issue.priority)}">
                <div class="flex justify-between items-start">
                    <div>
                        <span class="font-bold">${issue.type}</span>
                        <span class="text-sm ml-2 ${getStatusClass(issue.status)}">${issue.status}</span>
                    </div>
                    <div class="text-sm text-gray-500">${issue.date}</div>
                </div>
                <div class="text-sm mt-2"><i class="fas fa-map-marker-alt mr-2"></i>${issue.location}</div>
                <p class="mt-2">${issue.description}</p>
                <div class="flex justify-end mt-3 space-x-2">
                    <button onclick="updateIssueStatus(${issue.id})" class="text-indigo-500 hover:text-indigo-700">
                        <i class="fas fa-sync-alt mr-1"></i>Update
                    </button>
                    <button onclick="deleteIssue(${issue.id})" class="text-red-500 hover:text-red-700">
                        <i class="fas fa-trash mr-1"></i>Delete
                    </button>
                </div>
            </div>
        `).join('');
    };

    // Event handlers
    issuesButton.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('issuesModal').classList.remove('hidden');
        renderIssues();
    });

    document.getElementById('issueSubmitForm').addEventListener('submit', (e) => {
        e.preventDefault();
        // Add new issue logic here
        hideNewIssueForm();
        renderIssues();
    });
};

// Utility functions
const getPriorityClass = (priority) => {
    const classes = {
        low: 'border-l-4 border-gray-400',
        medium: 'border-l-4 border-yellow-400',
        high: 'border-l-4 border-orange-500',
        urgent: 'border-l-4 border-red-500'
    };
    return classes[priority] || classes.low;
};

const getStatusClass = (status) => {
    const classes = {
        pending: 'bg-yellow-100 text-yellow-800 px-2 py-1 rounded',
        'in-progress': 'bg-blue-100 text-blue-800 px-2 py-1 rounded',
        resolved: 'bg-green-100 text-green-800 px-2 py-1 rounded'
    };
    return classes[status] || classes.pending;
};

const showNewIssueForm = () => {
    document.getElementById('newIssueForm').classList.remove('hidden');
};

const hideNewIssueForm = () => {
    document.getElementById('newIssueForm').classList.add('hidden');
    document.getElementById('issueSubmitForm').reset();
};

const closeIssuesModal = () => {
    document.getElementById('issuesModal').classList.add('hidden');
};

// Initialize issues system
document.addEventListener('DOMContentLoaded', initializeIssuesSystem);
// Profile functionality
const initializeProfile = () => {
    const profileButton = document.querySelector('nav a:nth-child(4)');
    
    profileButton.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('profileModal').classList.remove('hidden');
    });

    document.getElementById('profileForm').addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Show success message
        const submitBtn = e.target.querySelector('.submit-btn');
        submitBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Saved!';
        
        gsap.to(submitBtn, {
            scale: 1.05,
            duration: 0.2,
            yoyo: true,
            repeat: 1
        });

        setTimeout(() => {
            submitBtn.innerHTML = '<i class="fas fa-save mr-2"></i>Save Changes';
            closeProfileModal();
        }, 1500);
    });
};

const closeProfileModal = () => {
    document.getElementById('profileModal').classList.add('hidden');
};

const updateProfileImage = (input) => {
    if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = (e) => {
            document.getElementById('profileImage').src = e.target.result;
        };
        reader.readAsDataURL(input.files[0]);
    }
};

// Initialize profile system
document.addEventListener('DOMContentLoaded', initializeProfile);
const updateRecentReviews = (reviewData) => {
    // Select the Recent Reviews section specifically
    const recentReviewsSection = document.querySelector('.mt-8 .grid.grid-cols-1.md\\:grid-cols-2.gap-6');
    
    const reviewHTML = `
        <div class="content-card p-4">
            <div class="flex justify-between items-start">
                <div>
                    <h4 class="font-bold">${reviewData.course || reviewData.facility}</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400">${reviewData.lecturer || reviewData.type}</p>
                </div>
                <div class="flex text-yellow-400">
                    ${generateStars(reviewData.rating)}
                </div>
            </div>
            <p class="mt-2">${reviewData.review}</p>
            <div class="mt-2 text-sm text-gray-500">Just now</div>
        </div>
    `;
    
    recentReviewsSection.insertAdjacentHTML('beforeend', reviewHTML);
    
    // Remove oldest review if more than 4 reviews
    const reviews = recentReviewsSection.children;
    if (reviews.length > 4) {
        reviews[0].remove();
    }
};



const generateStars = (rating) => {
    return Array(5).fill(0).map((_, index) => 
        `<i class="${index < rating ? 'fas' : 'far'} fa-star"></i>`
    ).join('');
};

// Update form submission handler
document.querySelector('.review-form').addEventListener('submit', (e) => {
    e.preventDefault();
    
    const form = e.target;
    const reviewData = {
        course: form.querySelector('select:first-of-type').value,
        lecturer: form.querySelector('select:last-of-type').value,
        rating: form.querySelector('input[name="rating"]:checked').value,
        title: form.querySelector('input[type="text"]').value,
        review: form.querySelector('textarea').value
    };
    
    updateRecentReviews(reviewData);
    
    const submitBtn = form.querySelector('.submit-btn');
    submitBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Review Submitted';
    submitBtn.style.background = 'var(--success)';
    
    gsap.to(submitBtn, {
        scale: 1.05,
        duration: 0.2,
        yoyo: true,
        repeat: 1
    });

    setTimeout(() => {
        submitBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Submit Review';
        submitBtn.style.background = '';
        form.reset();
    }, 2000);
});

      </script>
  </body>
</html>
